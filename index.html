<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta http-equiv="Content-Style-Type" content="text/css" />
  <meta name="generator" content="pandoc" />
  <title></title>
  <style type="text/css">code{white-space: pre;}</style>
  <style type="text/css">
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; }
code > span.dt { color: #902000; }
code > span.dv { color: #40a070; }
code > span.bn { color: #40a070; }
code > span.fl { color: #40a070; }
code > span.ch { color: #4070a0; }
code > span.st { color: #4070a0; }
code > span.co { color: #60a0b0; font-style: italic; }
code > span.ot { color: #007020; }
code > span.al { color: #ff0000; font-weight: bold; }
code > span.fu { color: #06287e; }
code > span.er { color: #ff0000; font-weight: bold; }
  </style>
  <link rel="stylesheet" href="assets/style.css" type="text/css" />
  <meta name="viewport" content="width=device-width, initial-scale=1">
</head>
<body>
<div id="BUTTONS">
<svg onclick="showmenu(evt)" width="38" height="38" viewBox="0 0 2048 2048" xmlns="http://www.w3.org/2000/svg"><path d="M1792 1472v128q0 26-19 45t-45 19h-1408q-26 0-45-19t-19-45v-128q0-26 19-45t45-19h1408q26 0 45 19t19 45zm0-512v128q0 26-19 45t-45 19h-1408q-26 0-45-19t-19-45v-128q0-26 19-45t45-19h1408q26 0 45 19t19 45zm0-512v128q0 26-19 45t-45 19h-1408q-26 0-45-19t-19-45v-128q0-26 19-45t45-19h1408q26 0 45 19t19 45z"/></svg>
<svg onclick="showsearch(evt)" width="38" height="38" viewBox="0 0 2048 2048" xmlns="http://www.w3.org/2000/svg"><path d="M1344 960q0-185-131.5-316.5t-316.5-131.5-316.5 131.5-131.5 316.5 131.5 316.5 316.5 131.5 316.5-131.5 131.5-316.5zm512 832q0 52-38 90t-90 38q-54 0-90-38l-343-342q-179 124-399 124-143 0-273.5-55.5t-225-150-150-225-55.5-273.5 55.5-273.5 150-225 225-150 273.5-55.5 273.5 55.5 225 150 150 225 55.5 273.5q0 220-124 399l343 343q37 37 37 90z"/></svg>
</div>

<div id="SEARCH">
  <input type="text" id="searchinput"></input>
</div>
<div id="TOC">
<ul>
<li><a href="#installation">Installation</a></li>
<li><a href="#usage">Usage</a><ul>
<li><a href="#create-a-database">Create a database</a></li>
<li><a href="#add-triples">Add triples</a><ul>
<li><a href="#add-a-single-triple">Add a single triple</a></li>
<li><a href="#add-a-collection-of-triples">Add a collection of triples</a></li>
<li><a href="#add-triples-represented-as-nested-js-objects">Add triples represented as nested JS objects</a></li>
<li><a href="#add-named-js-objects">Add named JS Objects</a></li>
</ul></li>
<li><a href="#import-and-export">Import and export</a></li>
<li><a href="#search">Search</a><ul>
<li><a href="#simple-search">Simple search</a></li>
<li><a href="#using-filters">Using filters</a></li>
</ul></li>
</ul></li>
<li><a href="#tests">Tests</a></li>
<li><a href="#contributing">Contributing</a></li>
</ul>
</div>
<div class="figure">
<img src="HexastoreLogo.svg" />

</div>
<p>A fast, pure javascript triple store implementation, also useful as a graph database. Works in any browser, with browserify or webpack. Early development, API is subject to changes.</p>
<p>Hexastore is based on <a href="http://karras.rutgers.edu/hexastore.pdf">this research paper</a>. It is a way to structure RDF data such that queries are really fast. However, as implemented here, it has a 6 fold increase in memory usage as compared to a naive implementation of a triple store.</p>
<p><a href="https://travis-ci.org/crubier/Hexastore"><img src="https://img.shields.io/travis/crubier/Hexastore.svg?style=flat-square" alt="Travis" /></a> <a href="https://coveralls.io/r/crubier/Hexastore"><img src="https://img.shields.io/coveralls/crubier/Hexastore.svg?style=flat-square" alt="Coverage Status" /></a> <a href="https://gemnasium.com/crubier/Hexastore"><img src="https://img.shields.io/gemnasium/crubier/Hexastore.svg?style=flat-square" alt="Gemnasium" /></a> <a href="https://www.npmjs.com/package/hexastore"><img src="https://img.shields.io/npm/dm/hexastore.svg?style=flat-square" alt="npm" /></a> <a href="https://www.npmjs.com/package/hexastore"><img src="https://img.shields.io/npm/v/hexastore.svg?style=flat-square" alt="npm" /></a> <a href="https://www.npmjs.com/package/hexastore"><img src="https://img.shields.io/node/v/hexastore.svg?style=flat-square" alt="node" /></a> <a href="https://github.com/crubier/Hexastore"><img src="https://img.shields.io/github/release/crubier/Hexastore.svg?style=flat-square" alt="GitHub tag" /></a></p>
<h1 id="installation">Installation</h1>
<p>It is pure JS, so nothing fancy, just:</p>
<pre class="sourceCode bash"><code class="sourceCode bash"><span class="kw">npm</span> install hexastore</code></pre>
<h1 id="usage">Usage</h1>
<h2 id="create-a-database">Create a database</h2>
<p>Just require Hexastore, and then you can start creating stores everywhere !</p>
<pre class="sourceCode javascript"><code class="sourceCode javascript"><span class="kw">var</span> Hexastore = <span class="fu">require</span>(<span class="st">&#39;Hexastore&#39;</span>);
<span class="kw">var</span> mydb = <span class="kw">new</span> <span class="fu">Hexastore</span>();</code></pre>
<h2 id="add-triples">Add triples</h2>
<h3 id="add-a-single-triple">Add a single triple</h3>
<pre class="sourceCode javascript"><code class="sourceCode javascript"><span class="ot">mydb</span>.<span class="fu">put</span>([<span class="st">&quot;hexastore&quot;</span>,<span class="st">&quot;is&quot;</span>,<span class="st">&quot;awesome&quot;</span>]);</code></pre>
<h3 id="add-a-collection-of-triples">Add a collection of triples</h3>
<pre class="sourceCode javascript"><code class="sourceCode javascript"><span class="ot">mydb</span>.<span class="fu">putAll</span>([
    [<span class="st">&quot;hexastore&quot;</span>,<span class="st">&quot;is&quot;</span>,<span class="st">&quot;nice&quot;</span>],
    [<span class="st">&quot;hexastore&quot;</span>,<span class="st">&quot;speed&quot;</span>,<span class="st">&quot;fast&quot;</span>],
    [<span class="st">&quot;javascript&quot;</span>,<span class="st">&quot;is&quot;</span>,<span class="st">&quot;nice&quot;</span>]
  ]);</code></pre>
<h3 id="add-triples-represented-as-nested-js-objects">Add triples represented as nested JS objects</h3>
<pre class="sourceCode javascript"><code class="sourceCode javascript"><span class="ot">mydb</span>.<span class="fu">addSPO</span>({
    <span class="dt">hexastore</span>:{<span class="dt">is</span>:{<span class="dt">awesome</span>:<span class="kw">true</span>,<span class="dt">nice</span>:<span class="kw">true</span>},<span class="dt">speed</span>:{<span class="dt">fast</span>:<span class="kw">true</span>}},
    <span class="dt">javascript</span>:{<span class="dt">is</span>:{<span class="dt">nice</span>:<span class="kw">true</span>}}
  });</code></pre>
<p>Or</p>
<pre class="sourceCode javascript"><code class="sourceCode javascript"><span class="ot">mydb</span>.<span class="fu">addSOP</span>({
    <span class="dt">hexastore</span>:{<span class="dt">awesome</span>:{<span class="dt">is</span>:<span class="kw">true</span>},<span class="dt">nice</span>:{<span class="dt">is</span>:<span class="kw">true</span>},<span class="dt">fast</span>:{<span class="dt">speed</span>:<span class="kw">true</span>}},
    <span class="dt">javascript</span>:{<span class="dt">nice</span>:{<span class="dt">is</span>:<span class="kw">true</span>}}
  };)</code></pre>
<p>You get it ? So basically you can use any of the 6 orderings of the hexastore :</p>
<pre class="sourceCode javascript"><code class="sourceCode javascript"><span class="ot">mydb</span>.<span class="fu">addSPO</span>(...);
<span class="ot">mydb</span>.<span class="fu">addSOP</span>(...);
<span class="ot">mydb</span>.<span class="fu">addOSP</span>(...);
<span class="ot">mydb</span>.<span class="fu">addOPS</span>(...);
<span class="ot">mydb</span>.<span class="fu">addPSO</span>(...);
<span class="ot">mydb</span>.<span class="fu">addPOS</span>(...);</code></pre>
<h3 id="add-named-js-objects">Add named JS Objects</h3>
<p>Finally, you can add arbitrary JS object this way, it acts a bit like Object Relational Mapping:</p>
<pre class="sourceCode javascript"><code class="sourceCode javascript"><span class="ot">mydb</span>.<span class="fu">addObject</span>(<span class="st">&quot;bob&quot;</span>,{<span class="dt">address</span>:{<span class="dt">number</span>:<span class="dv">10</span>,<span class="dt">street</span>:<span class="st">&#39;Avenue des Champs Elysees&#39;</span>,<span class="dt">city</span>:<span class="st">&#39;Paris&#39;</span>,<span class="dt">country</span>:<span class="st">&#39;France&#39;</span>},<span class="dt">friend</span>:[<span class="st">&quot;toto&quot;</span>,<span class="st">&quot;titi&quot;</span>,<span class="st">&quot;tata&quot;</span>]})</code></pre>
<p>Which is equivalent to:</p>
<pre class="sourceCode javascript"><code class="sourceCode javascript"><span class="ot">mydb</span>.<span class="fu">putAll</span>([
    [<span class="st">&quot;bob&quot;</span>,<span class="st">&quot;address&quot;</span>,<span class="st">&quot;{address:{number:10,street:&#39;Avenue des Champs Elysees&#39;,city:&#39;Paris&#39;,country:&#39;France&#39;}&quot;</span>],
    [<span class="st">&quot;{address:{number:10,street:&#39;Avenue des Champs Elysees&#39;,city:&#39;Paris&#39;,country:&#39;France&#39;}&quot;</span>,<span class="st">&quot;number&quot;</span>,<span class="st">&quot;10&quot;</span>],
    [<span class="st">&quot;{address:{number:10,street:&#39;Avenue des Champs Elysees&#39;,city:&#39;Paris&#39;,country:&#39;France&#39;}&quot;</span>,<span class="st">&quot;street&quot;</span>,<span class="st">&quot;Avenue des Champs Elysees&quot;</span>],
    [<span class="st">&quot;{address:{number:10,street:&#39;Avenue des Champs Elysees&#39;,city:&#39;Paris&#39;,country:&#39;France&#39;}&quot;</span>,<span class="st">&quot;city&quot;</span>,<span class="st">&quot;Paris&quot;</span>],
    [<span class="st">&quot;bob&quot;</span>,<span class="st">&quot;friend&quot;</span>,<span class="st">&quot;[&quot;</span>toto<span class="st">&quot;,&quot;</span>titi<span class="st">&quot;,&quot;</span>tata<span class="st">&quot;]&quot;</span>],
    [<span class="st">&quot;[&quot;</span>toto<span class="st">&quot;,&quot;</span>titi<span class="st">&quot;,&quot;</span>tata<span class="st">&quot;]&quot;</span>,<span class="st">&quot;0&quot;</span>,<span class="st">&quot;toto&quot;</span>],
    [<span class="st">&quot;[&quot;</span>toto<span class="st">&quot;,&quot;</span>titi<span class="st">&quot;,&quot;</span>tata<span class="st">&quot;]&quot;</span>,<span class="st">&quot;1&quot;</span>,<span class="st">&quot;titi&quot;</span>],
    [<span class="st">&quot;[&quot;</span>toto<span class="st">&quot;,&quot;</span>titi<span class="st">&quot;,&quot;</span>tata<span class="st">&quot;]&quot;</span>,<span class="st">&quot;2&quot;</span>,<span class="st">&quot;tata&quot;</span>]
  ]);</code></pre>
<h2 id="import-and-export">Import and export</h2>
<p>Databases are imported and exported as Subjects containing Predicates containing Objects containing Values (SPO ordering). Import and export can work on normal JSON files, or on Zipped &quot;data.json&quot; files.</p>
<pre class="sourceCode javascript"><code class="sourceCode javascript"><span class="ot">db</span>.<span class="fu">import</span>(<span class="st">&quot;Mydatabase&quot;</span>);    <span class="co">// Import &quot;Mydatabase.json&quot;</span>
<span class="ot">db</span>.<span class="fu">importZip</span>(<span class="st">&quot;Mydatabase&quot;</span>); <span class="co">// Import &quot;Mydatabase.zip&quot;</span>
<span class="ot">db</span>.<span class="fu">importNt</span>(<span class="st">&quot;Mydatabase&quot;</span>);  <span class="co">// Import &quot;Mydatabase.nt&quot;</span>

<span class="ot">db</span>.<span class="fu">export</span>(<span class="st">&quot;Mydatabase&quot;</span>);    <span class="co">// Export &quot;Mydatabase.json&quot;</span>
<span class="ot">db</span>.<span class="fu">exportZip</span>(<span class="st">&quot;Mydatabase&quot;</span>); <span class="co">// Export &quot;Mydatabase.zip&quot;</span>
<span class="ot">db</span>.<span class="fu">exportNt</span>(<span class="st">&quot;Mydatabase&quot;</span>);  <span class="co">// Export &quot;Mydatabase.nt&quot;</span></code></pre>
<h2 id="search">Search</h2>
<h3 id="simple-search">Simple search</h3>
<p>Searching is <strong>very</strong> simple. Just query a set of triples, adding <code>[]</code> around variable names. This acts a bit like SQL <code>JOIN</code> statements.</p>
<pre class="sourceCode javascript"><code class="sourceCode javascript"><span class="kw">var</span> result = <span class="ot">db</span>.<span class="fu">search</span>([
    [[<span class="st">&quot;what&quot;</span>],<span class="st">&quot;is&quot;</span>,<span class="st">&quot;nice&quot;</span>]
  ]);
<span class="co">// result == [{what:hexastore},{what:javascript}]</span></code></pre>
<p>A bit more complex</p>
<pre class="sourceCode javascript"><code class="sourceCode javascript"><span class="kw">var</span> result = <span class="ot">db</span>.<span class="fu">search</span>([
    [[<span class="st">&quot;what&quot;</span>],<span class="st">&quot;is&quot;</span>,<span class="st">&quot;nice&quot;</span>]
    [[<span class="st">&quot;what&quot;</span>],<span class="st">&quot;speed&quot;</span>,[<span class="st">&quot;howfast&quot;</span>]]
  ]);
<span class="co">// result == [{what:&quot;hexastore&quot;,howfast:&quot;fast&quot;}]</span></code></pre>
<p>Queries are really fast, so don't hesitate to do complex queries.</p>
<h3 id="using-filters">Using filters</h3>
<p>You can use filters to filter results, a bit like in SQL <code>WHERE</code> statements</p>
<pre class="sourceCode javascript"><code class="sourceCode javascript"><span class="kw">var</span> result = <span class="ot">db</span>.<span class="fu">search</span>([
    [[<span class="st">&quot;what&quot;</span>],<span class="st">&quot;is&quot;</span>,<span class="st">&quot;nice&quot;</span>]
  ]).<span class="fu">filter</span>(<span class="kw">function</span>(match){
    <span class="kw">return</span> <span class="ot">match</span>.<span class="ot">what</span>.<span class="fu">length</span> &lt;<span class="dv">10</span>;
  })
<span class="co">// result == [what:&quot;hexastore&quot;]</span></code></pre>
<h1 id="tests">Tests</h1>
<pre class="sourceCode bash"><code class="sourceCode bash"><span class="kw">gulp</span> test</code></pre>
<h1 id="contributing">Contributing</h1>
<script>

  var menu = false;
  var search = false;

  render();
  document.getElementById('TOC').addEventListener("click", showmenu, false);


  function showmenu(evt) {
    menu=!menu;
    search=search&&!menu;
    render();
  }

  function showsearch(evt){
    // document.getElementById("searchinput").value="";
    search=!search;
    menu=menu&&!search;
    render();
  }

  function dosearch() {
      window.find(document.getElementById("searchinput").value,false,false,true,false,true,false);
      document.getElementById("searchinput").focus();
  }

  function render() {
    document.getElementById('TOC').className = menu?"tocvisible":"tochidden";
    document.getElementById('SEARCH').className = search?"searchvisible":"searchhidden";
    if(search)document.getElementById("searchinput").focus();
  }

  document.getElementById('searchinput').onkeypress = function(e){
    if (!e) e = window.event;
    var keyCode = e.keyCode || e.which;
    if (keyCode == '13'){
      dosearch();
      return false;
    }
  };
</script>
</body>
</html>
